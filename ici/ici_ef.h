/*------------------------------------------------------------------------------

*------------------------------------------------------------------------------
*
* Processor       : 
* File Name       : ici_ef.h
* Description     : Interface for the ici function.c
                    BS

*  Version        : 1.00
*
*       +----- (NEW | MODify | ADD | DELete)
*       |
*  No   |   When       Who                What
*-----+---+----------+------------------+--------------------------------------
* 000  NEW  11/11/13   Markovsky A       Creation
*----------------------------------------------------------------------------*/
#ifndef ici_e_fn_h
#define ici_e_fn_h

//~#include "rec.h"

//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//~~~       Перечень констант которые возвращают функции                      ~~~~~
//~~~       обработки запросов дискретного регистратора                       ~~~~~
//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//``````````````````````````````````````````````````````````````````````````````````
#define START_EXEC        1 
#define STATE_EXEC        2
#define SUCCESS_EXEC      3
#define ERROR_EXEC        4
//``````````````````````````````````````````````````````````````````````````````````
//~~~   возврат START_EXEC    - Запрос успешно принят 
//~~~   возврат STATE_EXEC    - Идет обработка предыдущего запроса
//~~~   возврат SUCCESS_EXEC  - Запрос успешно обработан
//~~~   возврат ERROR_EXEC    - Ошибка при приеме запроса
//..................................................................................
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//~~~       Перечень констант  идентификаторов адресов                        ~~~~~
//~~~        запросов дискретного регистратора                                ~~~~~
//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

#define ID_REQ1      1 
#define ID_REQ2      2
#define ID_REQ3      3
#define ID_REQ4      4
//``````````````````````````````````````````````````````````````````````````````````
//..................................................................................
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//``````````````````````````````````````````````````````````````````````````````````
//                   ~~~    HEADER  ArTenPerData REQUEST STATE STRUCTS  ~~~
//..................................................................................
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
typedef struct ArTenPerStateDsc_TagIn
{
long sizeAr;      //Размер считанного массива
long *pTenPerData;//Указатель на начало данных

}ArTenPerStateDsc;
//~~~   
//..................................................................................
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//---
extern char ReqArTenPerData(long lActivation, void* pArDataDsc);
//..................................................................................
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//~~~     функция запроса/получения  массива 10 периодов мгновенных            ~~~~~
//~~~     значений                                                             ~~~~~
//~~~                                                                          ~~~~~
//~~~    Возвращаемое значение                                                 ~~~~~
//~~~    1 - команда начала выполняться                                        ~~~~~
//~~~    2 - системы защит и автоматики находится в состоянии выполнении запроса ~~~
//~~~    3 - команда выполнена успешно                                         ~~~~~
//~~~    4 - возникла  ошибка при старте, передаче,                            ~~~~~
//~~~     или данные недостоверны                                              ~~~~~
 
//``````````````````````````````````````````````````````````````````````````````````
//~~~   pArData  - По данному адресу в случае успеха будет помещен указатель   ~~~~~
//~~~   на структуру ArTenPerStateDsc описыввающую массив                      ~~~~~
//``````````````````````````````````````````````````````````````````````````````````
//~~~   lActivation == 0 - вернуть состояние массива                            ~~~~~
//~~~   lActivation == 1 - активировать передачу массива                        ~~~~~
//``````````````````````````````````````````````````````````````````````````````````
//~~~  Для указателя **pArData                                                ~~~~~
//~~~ !!ПАМЯТЬ НЕОБХОДИМО РАЗМЕЩАТЬ ПО ВЫРОВНЕННЫМ НА ГРАНИЦУ 32 БИТА СЛОВАМ !!! ~~~
//``````````````````````````````````````````````````````````````````````````````````
//~~~  ArTenPerStateDsc locArTenPerState;                                      ~~~~~
//~~~  int res;                                                                ~~~~~
//~~~  res =  ReqArTenPerData(1,&locArTenPerState);                            ~~~~~
//~~~   активировать передачу массива                                          ~~~~~
//~~~                                                                          ~~~~~
//~~~                                                                          ~~~~~
//``````````````````````````````````````````````````````````````````````````````````
//~~~   res =  ReqArTenPerData(0,&locArTenPerState);                           ~~~~~
//~~~   опрос состояния обработки данных                                       ~~~~~
//~~~   STATE_EXEC  -- Wait                                                    ~~~~~
//~~~   SUCCESS_EXEC -- Ok                                                     ~~~~~
//~~~   возврат ERROR_EXEC - Ошибка при приеме данных                          ~~~~~
//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//``````````````````````````````````````````````````````````````````````````````````
//                 ~~~    HEADER  Ar_total_measurement REQUEST STATE STRUCTS  ~~~
//..................................................................................
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
typedef struct TotMeasStateDsc_TagIn
{
long size_total_measurement;      //Размер считанного массива
void *p_total_measurement;//Указатель на начало данных

}TotMeasStateDsc;
//~~~   
//``````````````````````````````````````````````````````````````````````````````````
//~~~  p_total_measurement необходимо конвертировать к типу __TOTAL_MEASUREMENT~~~~~
//~~~  __TOTAL_MEASUREMENT описывается в файлах                                ~~~~~
//~~~  inc\type_definition_BS.h                                                ~~~~~
//~~~  inc\const_BS_BL.h                                                       ~~~~~
//~~~  inc\type_definition_BL.h                                                ~~~~~
//~~~                                                                          ~~~~~
//``````````````````````````````````````````````````````````````````````````````````
//..................................................................................
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//---
extern char ReqTotMeasData(long lActivation, void* pTotMeasStateDsc);
//..................................................................................
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//~~~     функция запроса/получения  структуры измерений __TOTAL_MEASUREMENT   ~~~~~
//~~~     значений                                                             ~~~~~
//~~~                                                                          ~~~~~
//~~~    Возвращаемое значение                                                 ~~~~~
//~~~    1 - команда начала выполняться                                        ~~~~~
//~~~    2 - системы обмена находится в состоянии выполнении запроса           ~~~
//~~~    3 - команда выполнена успешно                                         ~~~~~
//~~~    4 - возникла  ошибка при старте, передаче,                            ~~~~~
//~~~     или данные недостоверны                                              ~~~~~
 
//``````````````````````````````````````````````````````````````````````````````````
//~~~   pTotMeasStateDsc - По данному адресу в случае успеха будет помещен указатель
//~~~   на структуру TotMeasStateDsc описыввающую __TOTAL_MEASUREMENT          ~~~~~
//``````````````````````````````````````````````````````````````````````````````````
//~~~   lActivation == 0 - вернуть состояние __TOTAL_MEASUREMENT                ~~~~~
//~~~   lActivation == 1 - активировать передачу __TOTAL_MEASUREMENT            ~~~~~
//``````````````````````````````````````````````````````````````````````````````````
//~~~  Для указателя *pTotMeasDsc                                               ~~~~~
//~~~ !!ПАМЯТЬ НЕОБХОДИМО РАЗМЕЩАТЬ ПО ВЫРОВНЕННЫМ НА ГРАНИЦУ 32 БИТА СЛОВАМ !!! ~~~
//``````````````````````````````````````````````````````````````````````````````````
//~~~  TotMeasStateDsc locTotMeasState;                                      ~~~~~
//~~~  int res;                                                                ~~~~~
//~~~  res =  ReqTotMeasData(1,&locTotMeasState);                            ~~~~~
//~~~   активировать передачу массива                                          ~~~~~
//~~~                                                                          ~~~~~
//~~~                                                                          ~~~~~
//``````````````````````````````````````````````````````````````````````````````````
//~~~   res =  ReqTotMeasData(0,&locTotMeasState);                           ~~~~~
//~~~   опрос состояния обработки данных                                       ~~~~~
//~~~   STATE_EXEC  -- Wait                                                    ~~~~~
//~~~   SUCCESS_EXEC -- Ok                                                     ~~~~~
//~~~   возврат ERROR_EXEC - Ошибка при приеме данных                          ~~~~~
//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//---
extern long GetTotMeas(void *pvMeasAddr);
//..................................................................................
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//~~~     функция запроса/получения  __TOTAL_MEASUREMENT             ~~~~~
//~~~                                                                  ~~~~~
//~~~                                                                          ~~~~~
//~~~    Возвращаемое значение                                                 ~~~~~
//~~~    1 - команда начала выполняться                                        ~~~~~
//~~~    2 - система МПО(межпроцесорного обмена)  находится                     ~~~
//~~~         в состоянии выполнении запроса                                   ~~~~~
//~~~    3 - команда выполнена успешно                                         ~~~~~
//~~~    4 - возникла  ошибка при старте, передаче,                            ~~~~~
//~~~     или данные недостоверны                                              ~~~~~
 
//``````````````````````````````````````````````````````````````````````````````````
//~~~   pvMeasAddr  - По данному адресу в случае успеха будут помещены        ~~~~~
//~~~   данные  __TOTAL_MEASUREMENT                      ~~~~~
//``````````````````````````````````````````````````````````````````````````````````
//~~~  Описание __TOTAL_MEASUREMENT    должно находиться в файле       ~~~~~
//~~~   .Hvps\hvps_A_12_12_14\\HR1_0100_00_I670\doc\Таблица структуры измерений.docx        ~~~~~
//``````````````````````````````````````````````````````````````````````````````````
//~~~  Для указателя pvMeasAddr                                                ~~~~~
//~~~ !!ПАМЯТЬ НЕОБХОДИМО РАЗМЕЩАТЬ ПО ВЫРОВНЕННЫМ НА ГРАНИЦУ 32 БИТА СЛОВАМ !!! ~~~
//``````````````````````````````````````````````````````````````````````````````````
//~~~   __TOTAL_MEASUREMENT locMeas;                                      ~~~~~
//~~~  int res;                                                                ~~~~~
//~~~  res =  GetMeasPrt(&locMeas);                                  ~~~~~
//~~~   активировать передачу массива                                          ~~~~~
//~~~                                                                          ~~~~~
//~~~                                                                          ~~~~~
//``````````````````````````````````````````````````````````````````````````````````
//~~~   res =  GetMeasPrt(&locMeas);                                 ~~~~~
//~~~   опрос состояния обработки данных                                       ~~~~~
//~~~   STATE_EXEC  -- Wait                                                    ~~~~~
//~~~   SUCCESS_EXEC -- Ok                                                     ~~~~~
//~~~   возврат ERROR_EXEC - Ошибка при приеме данных                          ~~~~~
//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""






//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//``````````````````````````````````````````````````````````````````````````````````
//                 ~~~    HEADER  Ar_current_settings  REQUEST STATE STRUCTS  ~~~
//..................................................................................
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
typedef struct SettigsStateDsc_TagIn
{
long size_current_settings ;      //Размер считанного массива
void *p_current_settings ;//Указатель на начало данных

}SettingsStateDsc;
//~~~   
//``````````````````````````````````````````````````````````````````````````````````
//~~~  p_current_settings будет  конвертироваться к типу __SETTINGS            ~~~~~
//~~~  __SETTINGS описывается в файлах                                         ~~~~~
//~~~  inc\type_definition_BS.h                                                ~~~~~
//~~~  inc\const_BS_BL.h                                                       ~~~~~
//~~~  inc\type_definition_BL.h                                                ~~~~~
//~~~                                                                          ~~~~~
//``````````````````````````````````````````````````````````````````````````````````
//..................................................................................
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
extern SettingsStateDsc testSettigsState;
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//---
extern char ReqGetSettingsBM (long lActivation, void* pSettigsStateDsc);
//..................................................................................
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//~~~     функция получения  структуры __SETTINGS c  BM(блок матем)           ~~~~~
//~~~     значений                                                             ~~~~~
//~~~     похожая функция может использрваться и для EEPROM                    ~~~~~
//~~~    Возвращаемое значение                                                 ~~~~~
//~~~    1 - команда начала выполняться                                        ~~~~~
//~~~    2 - системы обмена находится в состоянии выполнении запроса           ~~~
//~~~    3 - команда выполнена успешно                                         ~~~~~
//~~~    4 - возникла  ошибка при старте, передаче,                            ~~~~~
//~~~     или данные недостоверны                                              ~~~~~
 
//``````````````````````````````````````````````````````````````````````````````````
//~~~   pSettigsStateDsc - По данному адресу в случае успеха будет помещен указатель
//~~~   на структуру SettigsStateDsc описыввающую __SETTINGS          ~~~~~
//``````````````````````````````````````````````````````````````````````````````````
//~~~   lActivation == 0 - вернуть состояние __SETTINGS                       ~~~~~
//~~~   lActivation == 1 - активировать запрос __SETTINGS                     ~~~~~
//``````````````````````````````````````````````````````````````````````````````````
//~~~  Для указателя *pSettigsStateDsc                                         ~~~~~
//~~~ !!ПАМЯТЬ НЕОБХОДИМО РАЗМЕЩАТЬ ПО ВЫРОВНЕННЫМ НА ГРАНИЦУ 32 БИТА СЛОВАМ !!! ~~~
//``````````````````````````````````````````````````````````````````````````````````
//~~~  SettigsStateDsc locSettigsState;                                       ~~~~~
//~~~  int res;                                                                ~~~~~
//~~~  res =  ReqGetSettingsBM(1,&locSettigsState);                            ~~~~~
//~~~   активировать передачу массива                                          ~~~~~
//~~~                                                                          ~~~~~
//~~~                                                                          ~~~~~
//``````````````````````````````````````````````````````````````````````````````````
//~~~   res =  ReqGetSettingsBM(0,&locSettigsState);                           ~~~~~
//~~~   опрос состояния обработки данных                                       ~~~~~
//~~~   STATE_EXEC  -- Wait                                                    ~~~~~
//~~~   SUCCESS_EXEC -- Ok                                                     ~~~~~
//~~~   возврат ERROR_EXEC - Ошибка при приеме данных                          ~~~~~
//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""


//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//---
extern char ReqSendSettingsBM (long lActivation, void* pSettigsStateDsc);
//..................................................................................
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//~~~     функция отправки   структуры __SETTINGS на BM(блок матем)           ~~~~~
//~~~     значений                                                             ~~~~~
//~~~                                                                          ~~~~~
//~~~    Возвращаемое значение                                                 ~~~~~
//~~~    1 - команда начала выполняться                                        ~~~~~
//~~~    2 - системы обмена находится в состоянии выполнении запроса           ~~~
//~~~    3 - команда выполнена успешно                                         ~~~~~
//~~~    4 - возникла  ошибка при старте, передаче,                            ~~~~~
//~~~     или данные недостоверны                                              ~~~~~
 
//``````````````````````````````````````````````````````````````````````````````````
//~~~   pSettigsStateDsc - По данному адресу в случае успеха будет помещен указатель
//~~~   на структуру SettigsStateDsc описыввающую __SETTINGS          ~~~~~
//``````````````````````````````````````````````````````````````````````````````````
//~~~   lActivation == 0 - вернуть состояние __SETTINGS                ~~~~~
//~~~   lActivation == 1 - активировать передачу __SETTINGS            ~~~~~
//``````````````````````````````````````````````````````````````````````````````````
//~~~  Для указателя *pSettigsStateDsc                                         ~~~~~
//~~~ !!ПАМЯТЬ НЕОБХОДИМО РАЗМЕЩАТЬ ПО ВЫРОВНЕННЫМ НА ГРАНИЦУ 32 БИТА СЛОВАМ !!! ~~~
//``````````````````````````````````````````````````````````````````````````````````
//~~~  SettigsStateDsc locSettigsState;                                      ~~~~~
//~~~  int res;                                                                ~~~~~
//~~~  res =  ReqSendSettingsBM(1,&locSettigsState);                           ~~~~~
//~~~   активировать передачу массива                                          ~~~~~
//~~~                                                                          ~~~~~
//~~~                                                                          ~~~~~
//``````````````````````````````````````````````````````````````````````````````````
//~~~   res =  ReqSendSettingsBM(0,&locSettigsState);                          ~~~~~
//~~~   опрос состояния обработки данных                                       ~~~~~
//~~~   STATE_EXEC  -- Wait                                                    ~~~~~
//~~~   SUCCESS_EXEC -- Ok                                                     ~~~~~
//~~~   возврат ERROR_EXEC - Ошибка при приеме данных                          ~~~~~
//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""


extern unsigned int ustuvannja_BS[];//NUMBER_CANALS];//ustuvannja_meas[NUMBER_CANALS], 
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//``````````````````````````````````````````````````````````````````````````````````
//                 ~~~    HEADER  Ar_ustuvannja  REQUEST STATE STRUCTS  ~~~
//..................................................................................
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
typedef struct YustStateDsc_TagIn
{
long size_ustuvannja_BS ;      //Размер считанного массива ustuvannja_BS[NUMBER_CANALS]
void *p_ustuvannja_BS ;//Указатель на начало данных

}YustStateDsc;
//~~~   
//``````````````````````````````````````````````````````````````````````````````````
//~~~  p_ustuvannja_BS будет  конвертироваться к типу ustuvannja_BS            ~~~~~
//~~~  Массив ustuvannja_BS должна, где-то объявить система                    ~~~~~
//~~~  параметрирования после получения ответа 1 - команда начала выполняться  ~~~~~
//~~~  содержимое заносится во внутренний буфер системы межпроцессорного      ~~~~~
//~~~  обмена и возвращается результат для контроля с BM                      ~~~~~
//~~~                                                                          ~~~~~
//``````````````````````````````````````````````````````````````````````````````````
//..................................................................................
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//---
extern char ReqChangeYustBM (long lActivation, void* pYustStateDsc);
//..................................................................................
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//~~~     функция отправки/получения  массива ustuvannja_BS[NUMBER_CANALS]     ~~~~~
//~~~   на BM(блок матем)                                                                        ~~~~~
//~~~                                                                          ~~~~~
//~~~    Возвращаемое значение                                                 ~~~~~
//~~~    1 - команда начала выполняться                                        ~~~~~
//~~~    2 - системы обмена находится в состоянии выполнении запроса           ~~~
//~~~    3 - команда выполнена успешно                                         ~~~~~
//~~~    4 - возникла  ошибка при старте, передаче,                            ~~~~~
//~~~     или данные недостоверны                                              ~~~~~
//``````````````````````````````````````````````````````````````````````````````````
//~~~   pYustStateDsc - По данному адресу в случае успеха будет помещен указатель
//~~~   на структуру YustStateDsc описыввающую ustuvannja_BS[NUMBER_CANALS]          ~~~~~
//``````````````````````````````````````````````````````````````````````````````````
//~~~   lActivation == 0 - вернуть состояние ustuvannja_BS[NUMBER_CANALS]                ~~~~~
//~~~   lActivation == 1 - активировать передачу ustuvannja_BS[NUMBER_CANALS]            ~~~~~
//``````````````````````````````````````````````````````````````````````````````````
//~~~  Для указателя *pYustStateDsc                                         ~~~~~
//~~~ !!ПАМЯТЬ НЕОБХОДИМО РАЗМЕЩАТЬ ПО ВЫРОВНЕННЫМ НА ГРАНИЦУ 32 БИТА СЛОВАМ !!! ~~~
//``````````````````````````````````````````````````````````````````````````````````
//~~~  YustStateDsc locYustState;                                              ~~~~~
//~~~  int res;                                                                ~~~~~
//~~~  res =  ReqChangeSettings(1,&locYustState);                              ~~~~~
//~~~   активировать передачу массива                                          ~~~~~
//~~~                                                                          ~~~~~
//~~~                                                                          ~~~~~
//`````````````````````````````````````````````````````````````````````````````````` 
//~~~  res =  ReqChangeSettings(1,&locYustState);                              ~~~~~
//~~~   опрос состояния обработки данных                                       ~~~~~
//~~~   STATE_EXEC  -- Wait                                                    ~~~~~
//~~~   SUCCESS_EXEC -- Ok                                                     ~~~~~
//~~~   возврат ERROR_EXEC - Ошибка при приеме данных                          ~~~~~
//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//---
extern char  ReqGetYustBM(long lActivation, void* pYustStateDsc);
//..................................................................................
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//~~~     функция запроса на получение  юстировочных чисел  с BM            ~~~~~
//~~~                                                                          ~~~~~
//~~~                                                                          ~~~~~
//~~~    Возвращаемое значение                                                 ~~~~~
//~~~    1 - команда начала выполняться                                        ~~~~~
//~~~    2 - системы защит и автоматики находится в состоянии выполнении запроса ~~~
//~~~    3 - команда выполнена успешно                                         ~~~~~
//~~~    4 - возникла  ошибка при старте, передаче,                            ~~~~~
//~~~     или данные недостоверны                                              ~~~~~
 
//``````````````````````````````````````````````````````````````````````````````````
//~~~   pYustStateDsc - По данному адресу необходимо помещать указатель
//~~~   на структуру YustStateDsc описывающую ustuvannja_BS[NUMBER_CANALS]     ~~~~~
//``````````````````````````````````````````````````````````````````````````````````
//~~~   lActivation == 0 - вернуть состояние выполнения запроса массива        ~~~~~
//~~~   lActivation == 1 - активировать передачу ustuvannja_BS[NUMBER_CANALS]  ~~~~~
//~~~   
//``````````````````````````````````````````````````````````````````````````````````
//~~~  p_ustuvannja_BS будет  конвертироваться к типу ustuvannja_BS            ~~~~~
//~~~  Массив ustuvannja_BS должна, где-то объявить система параметрирования   ~~~~~
//~~~  глобально! после получения ответа 1 - команда начала выполняться        ~~~~~
//~~~  содержимое заносится во внутренний буфер системы межпроцессорного       ~~~~~
//~~~  обмена и возвращается результат для контроля с BM                       ~~~~~
//~~~                                                                          ~~~~~
//``````````````````````````````````````````````````````````````````````````````````

//``````````````````````````````````````````````````````````````````````````````````
//~~~  Для указателя *pYustStateDsc                                         ~~~~~
//~~~ !!ПАМЯТЬ НЕОБХОДИМО РАЗМЕЩАТЬ ПО ВЫРОВНЕННЫМ НА ГРАНИЦУ 32 БИТА СЛОВАМ !!! ~~~
//``````````````````````````````````````````````````````````````````````````````````
//~~~  YustStateDsc locYustState;                                              ~~~~~
//~~~  int res;                                                                ~~~~~
//~~~  locYustState.size_ustuvannja_BS = sizeof(ustuvannja_BS[]);              ~~~~~
//~~~  locYustState. p_ustuvannja_BS   = &ustuvannja_BS[0]  ;                  ~~~~~
//~~~  res =  ReqChangeSettings(1,&locYustState);                              ~~~~~
//~~~   активировать передачу массива                                          ~~~~~
//~~~                                                                          ~~~~~
//~~~                                                                          ~~~~~
//`````````````````````````````````````````````````````````````````````````````````` 
//~~~  res =  ReqChangeSettings(0,&locYustState);                              ~~~~~
//~~~   опрос состояния обработки данных                                       ~~~~~
//~~~   STATE_EXEC  -- Wait                                                    ~~~~~
//~~~   SUCCESS_EXEC -- Ok                                                     ~~~~~
//~~~   возврат ERROR_EXEC - Ошибка при приеме данных                          ~~~~~
//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""



//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//---
extern char  ReqSendYustBM(long lActivation, void* pYustStateDsc);
//..................................................................................
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//~~~     функция запроса на отправку  юстировочных чисел на  BM            ~~~~~
//~~~                                                                        ~~~~~
//~~~                                                                          ~~~~~
//~~~    Возвращаемое значение                                                 ~~~~~
//~~~    1 - команда начала выполняться                                        ~~~~~
//~~~    2 - системы защит и автоматики находится в состоянии выполнении запроса ~~~
//~~~    3 - команда выполнена успешно                                         ~~~~~
//~~~    4 - возникла  ошибка при старте, передаче,                            ~~~~~
//~~~     или данные недостоверны                                              ~~~~~
 
//``````````````````````````````````````````````````````````````````````````````````
//``````````````````````````````````````````````````````````````````````````````````
//~~~   pYustStateDsc - По данному адресу необходимо помещать указатель
//~~~   на структуру YustStateDsc описывающую ustuvannja_BS[NUMBER_CANALS]     ~~~~~
//``````````````````````````````````````````````````````````````````````````````````
//~~~   lActivation == 0 - вернуть состояние выполнения запроса массива        ~~~~~
//~~~   lActivation == 1 - активировать передачу ustuvannja_BS[NUMBER_CANALS]  ~~~~~
//~~~   
//``````````````````````````````````````````````````````````````````````````````````
//~~~  p_ustuvannja_BS будет  конвертироваться к типу ustuvannja_BS            ~~~~~
//~~~  Массив ustuvannja_BS должна, где-то объявить система параметрирования   ~~~~~
//~~~  глобально! после получения ответа 1 - команда начала выполняться        ~~~~~
//~~~  содержимое заносится во внутренний буфер системы межпроцессорного       ~~~~~
//~~~  обмена и возвращается результат для контроля с BM                       ~~~~~
//~~~                                                                          ~~~~~
//``````````````````````````````````````````````````````````````````````````````````

//``````````````````````````````````````````````````````````````````````````````````
//~~~  Для указателя *pYustStateDsc                                         ~~~~~
//~~~ !!ПАМЯТЬ НЕОБХОДИМО РАЗМЕЩАТЬ ПО ВЫРОВНЕННЫМ НА ГРАНИЦУ 32 БИТА СЛОВАМ !!! ~~~
//``````````````````````````````````````````````````````````````````````````````````
//~~~  YustStateDsc locYustState;                                              ~~~~~
//~~~  int res;                                                                ~~~~~
//~~~  locYustState.size_ustuvannja_BS = sizeof(ustuvannja_BS[]);              ~~~~~
//~~~  locYustState. p_ustuvannja_BS   = &ustuvannja_BS[0]  ;                  ~~~~~
//~~~  res =  ReqChangeSettings(1,&locYustState);                              ~~~~~
//~~~   активировать передачу массива                                          ~~~~~
//~~~                                                                          ~~~~~
//~~~                                                                          ~~~~~
//`````````````````````````````````````````````````````````````````````````````````` 
//~~~  res =  ReqChangeSettings(0,&locYustState);                              ~~~~~
//~~~   опрос состояния обработки данных                                       ~~~~~
//~~~   STATE_EXEC  -- Wait                                                    ~~~~~
//~~~   SUCCESS_EXEC -- Ok                                                     ~~~~~
//~~~   возврат ERROR_EXEC - Ошибка при приеме данных                          ~~~~~
//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""


extern unsigned int PrtTbl[];//
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//``````````````````````````````````````````````````````````````````````````````````
//                 ~~~    HEADER  Ar_protection tbl  REQUEST STATE STRUCTS  ~~~
//..................................................................................
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
typedef struct PrtTblStateDsc_TagIn
{
long size_PrtTbl ;      //Размер считанного массива 
void *p_PrtTbl ;//Указатель на начало данных

}PrtTblStateDsc;
//~~~   
//``````````````````````````````````````````````````````````````````````````````````
//~~~  p_PrtTbl  будет  конвертироваться к типу PrtTbl                         ~~~~~
//~~~  Массив PrtTbl должна, где-то объявить система                           ~~~~~
//~~~  параметрирования после получения ответа 1 - команда начала выполняться  ~~~~~
//~~~  содержимое заносится во внутренний буфер системы межпроцессорного       ~~~~~
//~~~  обмена и возвращается результат для контроля с BM                       ~~~~~
//~~~                                                                          ~~~~~
//``````````````````````````````````````````````````````````````````````````````````
//..................................................................................
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//---
extern char  ReqGetPrtTblBM(long lActivation, void* pPrtTblStateDsc);
//..................................................................................
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//~~~     функция запроса на получение  юстировочных чисел  с BM            ~~~~~
//~~~                                                                          ~~~~~
//~~~                                                                          ~~~~~
//~~~    Возвращаемое значение                                                 ~~~~~
//~~~    1 - команда начала выполняться                                        ~~~~~
//~~~    2 - системы защит и автоматики находится в состоянии выполнении запроса ~~~
//~~~    3 - команда выполнена успешно                                         ~~~~~
//~~~    4 - возникла  ошибка при старте, передаче,                            ~~~~~
//~~~     или данные недостоверны                                              ~~~~~
 
//``````````````````````````````````````````````````````````````````````````````````
//~~~   pPrtTblStateDsc - По данному адресу необходимо помещать указатель
//~~~   на структуру PrtTblStateDsc описывающую PrtTbl[]                      ~~~~~
//``````````````````````````````````````````````````````````````````````````````````
//~~~   lActivation == 0 - вернуть состояние выполнения запроса массива        ~~~~~
//~~~   lActivation == 1 - активировать передачу PrtTbl[]                      ~~~~~
//~~~   
//``````````````````````````````````````````````````````````````````````````````````
//~~~  p_PrtTbl будет  конвертироваться к типу PrtTbl                          ~~~~~
//~~~  Массив ustuvannja_BS должна, где-то объявить система параметрирования   ~~~~~
//~~~  глобально! после получения ответа 1 - команда начала выполняться        ~~~~~
//~~~  содержимое заносится во внутренний буфер системы межпроцессорного       ~~~~~
//~~~  обмена и возвращается результат для контроля с BM                       ~~~~~
//~~~                                                                          ~~~~~
//``````````````````````````````````````````````````````````````````````````````````

//``````````````````````````````````````````````````````````````````````````````````
//~~~  Для указателя *pPrtTblStateDsc                                         ~~~~~
//~~~ !!ПАМЯТЬ НЕОБХОДИМО РАЗМЕЩАТЬ ПО ВЫРОВНЕННЫМ НА ГРАНИЦУ 32 БИТА СЛОВАМ !!! ~~~
//``````````````````````````````````````````````````````````````````````````````````
//~~~  PrtTblStateDsc locPrtTblState;                                          ~~~~~
//~~~  int res;                                                                ~~~~~
//~~~  locPrtTblState.size_PrtTbl = sizeof(PrtTbl[]);                          ~~~~~
//~~~  locPrtTblState. p_PrtTbl   = &PrtTbl[0]  ;                              ~~~~~
//~~~  res =  ReqChangeSettings(1,&locPrtTblState);                            ~~~~~
//~~~   активировать передачу массива                                          ~~~~~
//~~~                                                                          ~~~~~
//~~~                                                                          ~~~~~
//`````````````````````````````````````````````````````````````````````````````````` 
//~~~  res =  ReqChangeSettings(0,&locPrtTblState);                            ~~~~~
//~~~   опрос состояния обработки данных                                       ~~~~~
//~~~   STATE_EXEC  -- Wait                                                    ~~~~~
//~~~   SUCCESS_EXEC -- Ok                                                     ~~~~~
//~~~   возврат ERROR_EXEC - Ошибка при приеме данных                          ~~~~~
//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//---
extern char  ReqSendPrtTblBM(long lActivation, void* pPrtTblStateDsc);
//..................................................................................
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//~~~     функция запроса на отправку  юстировочных чисел на  BM               ~~~~~
//~~~                                                                          ~~~~~
//~~~                                                                          ~~~~~
//~~~    Возвращаемое значение                                                 ~~~~~
//~~~    1 - команда начала выполняться                                        ~~~~~
//~~~    2 - системы защит и автоматики находится в состоянии выполнении запроса ~~~
//~~~    3 - команда выполнена успешно                                         ~~~~~
//~~~    4 - возникла  ошибка при старте, передаче,                            ~~~~~
//~~~     или данные недостоверны                                              ~~~~~
 
//``````````````````````````````````````````````````````````````````````````````````
//``````````````````````````````````````````````````````````````````````````````````
//~~~   pPrtTblStateDsc - По данному адресу необходимо помещать указатель
//~~~   на структуру PrtTblStateDsc описывающую PrtTbl[]                       ~~~~~
//``````````````````````````````````````````````````````````````````````````````````
//~~~   lActivation == 0 - вернуть состояние выполнения запроса массива        ~~~~~
//~~~   lActivation == 1 - активировать передачу PrtTbl[]                      ~~~~~
//~~~   
//``````````````````````````````````````````````````````````````````````````````````
//~~~  p_PrtTbl будет  конвертироваться к типу PrtTbl[]                        ~~~~~
//~~~  Массив  должна, где-то объявить система параметрирования                ~~~~~
//~~~  глобально! после получения ответа 1 - команда начала выполняться        ~~~~~
//~~~  содержимое заносится во внутренний буфер системы межпроцессорного       ~~~~~
//~~~  обмена и возвращается результат для контроля с BM                       ~~~~~
//~~~                                                                          ~~~~~
//``````````````````````````````````````````````````````````````````````````````````

//``````````````````````````````````````````````````````````````````````````````````
//~~~  Для указателя *pPrtTblStateDsc                                          ~~~~~
//~~~ !!ПАМЯТЬ НЕОБХОДИМО РАЗМЕЩАТЬ ПО ВЫРОВНЕННЫМ НА ГРАНИЦУ 32 БИТА СЛОВАМ !!! ~~~
//``````````````````````````````````````````````````````````````````````````````````
//~~~  PrtTblStateDsc locPrtTblState;                                          ~~~~~
//~~~  int res;                                                                ~~~~~
//~~~  locPrtTblState.size_PrtTbl = sizeof(PrtTbl[]);                          ~~~~~
//~~~  locPrtTblState.p_PrtTbl   = &PrtTbl[0] ;                        ~~~~~
//~~~  res =  ReqChangeSettings(1,&locPrtTblState);                            ~~~~~
//~~~   активировать передачу массива                                          ~~~~~
//~~~                                                                          ~~~~~
//~~~                                                                          ~~~~~
//`````````````````````````````````````````````````````````````````````````````````` 
//~~~  res =  ReqChangeSettings(0,&locPrtTblState);                            ~~~~~
//~~~   опрос состояния обработки данных                                       ~~~~~
//~~~   STATE_EXEC  -- Wait                                                    ~~~~~
//~~~   SUCCESS_EXEC -- Ok                                                     ~~~~~
//~~~   возврат ERROR_EXEC - Ошибка при приеме данных                          ~~~~~
//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""



//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//~~~     Информация о версии ПО и дате компиляции                          ~~~~~
//~~~                                          ~~~~~
//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//должна находится в структурах

//если при обращении считываются 0
//то информация не получена. Возможные причины - нет связи между процессорами.
//Информация потерялась при передаче
//выводить на экран 000.
//Назначение полей



//```   char ArDateStr [16];      //Дата Компиляции
//```   char ArTimeStr [16];      //Время компиляции
//```	char chSizeDateStr;       //Размер строки даты
//```   char chSizeTimeStr;       //Размер строки времени
//```	short sh;
//```	long long llIarVersion;  //Номер версии Iar
//```    NumVerInfo mVerInfo;
//```		char ver;//Основной номер версии
//```		char sub_ver;//номер версии расширяющей функционал программы
//```		              //при этом функционал программы разных подверсий между собой может быть несовместим 
//```		              //С ТУ или Без ТУ
//```		char corr_num;//Номер коррекции Имеется совместимость с подверсией. Но проведено
//```		//исправление выявленных ошибок
//```		long Bield_num;//Номер сборки Отображает  количество компиляций данного проекта


//``````````````````````````````````````````````````````````````````````````````````
//..................................................................................
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
//``````````````````````````````````````````````````````````````````````````````````
#define NUM_IN  32
//~~~      - 
//``````````````````````````````````````````````````````````````````````````````````
#define NUM_OUT 16
//~~~      - 
//``````````````````````````````````````````````````````````````````````````````````
#define NUM_LED 16
//~~~      - 
//``````````````````````````````````````````````````````````````````````````````````


#define AMOUNT_BYTE_FOR_IN            (((NUM_IN)>>3) ) //+1) 

#define AMOUNT_BYTE_FOR_OUT           (((NUM_OUT)>>3)) // +1) 

#define AMOUNT_BYTE_FOR_OUT_TRG       (((NUM_OUT)>>3)  ) //+1)
                                                        //
#define AMOUNT_BYTE_FOR_LED           (((NUM_LED)>>3) ) //+1)
                                                        //
#define AMOUNT_BYTE_FOR_LED_TRG       (((NUM_LED)>>3) ) //+1)

#define AMOUNT_BYTE_FOR_GRP_SELECTOR   1
typedef struct tag_TeleMechsInfoDsc
{

	char  chArIn    [AMOUNT_BYTE_FOR_IN ];
	char  chArOut   [AMOUNT_BYTE_FOR_OUT];
	char  chArOutTrg[AMOUNT_BYTE_FOR_OUT_TRG];
	char  chArLed   [AMOUNT_BYTE_FOR_LED];
	char  chArLedTrg[AMOUNT_BYTE_FOR_LED_TRG ];
	char  chGrpSelector;

}TeleMechsInfoDsc;	






















#endif
